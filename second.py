import numpy as np
import cv2 as cv
import math
from matplotlib import pyplot as plt
import numpy as np

def select_points(event, x, y, flags, param):
    if event == cv.EVENT_LBUTTONDBLCLK:
        ix.append(x)
        iy.append(y)

def get_background(video):
    frame_indices = video.get(cv.CAP_PROP_FRAME_COUNT) * np.random.uniform(size=50)
    frames = []
    for i in frame_indices:
        video.set(cv.CAP_PROP_POS_FRAMES, i)
        ret, frame = video.read()
        frames.append(frame)
    background = np.median(frames, axis=0).astype(np.uint8)
    return background

def nothing(x):
    pass

def get_mask(image):
    cv.namedWindow('image')
    cv.createTrackbar('HMin', 'image', 0, 179, nothing)
    cv.createTrackbar('SMin', 'image', 0, 255, nothing)
    cv.createTrackbar('VMin', 'image', 0, 255, nothing)
    cv.createTrackbar('HMax', 'image', 0, 179, nothing)
    cv.createTrackbar('SMax', 'image', 0, 255, nothing)
    cv.createTrackbar('VMax', 'image', 0, 255, nothing)

    cv.setTrackbarPos('HMax', 'image', 179)
    cv.setTrackbarPos('SMax', 'image', 255)
    cv.setTrackbarPos('VMax', 'image', 255)

    hMin = sMin = vMin = hMax = sMax = vMax = 0
    phMin = psMin = pvMin = phMax = psMax = pvMax = 0

    while(1):
        hMin = cv.getTrackbarPos('HMin', 'image')
        sMin = cv.getTrackbarPos('SMin', 'image')
        vMin = cv.getTrackbarPos('VMin', 'image')
        hMax = cv.getTrackbarPos('HMax', 'image')
        sMax = cv.getTrackbarPos('SMax', 'image')
        vMax = cv.getTrackbarPos('VMax', 'image')

        lower = np.array([hMin, sMin, vMin])
        upper = np.array([hMax, sMax, vMax])

        hsv = cv.cvtColor(image, cv.COLOR_BGR2HSV)
        mask = cv.inRange(hsv, lower, upper)
        result = cv.bitwise_and(image, image, mask=mask)

        if((phMin != hMin) | (psMin != sMin) | (pvMin != vMin) | (phMax != hMax) | (psMax != sMax) | (pvMax != vMax) ):
            print("(hMin = %d , sMin = %d, vMin = %d), (hMax = %d , sMax = %d, vMax = %d)" % (hMin , sMin , vMin, hMax, sMax , vMax))
            phMin = hMin
            psMin = sMin
            pvMin = vMin
            phMax = hMax
            psMax = sMax
            pvMax = vMax

        cv.imshow('image', result)
        if cv.waitKey(10) & 0xFF == ord('q'):
            break
    cv.destroyAllWindows()


cv.namedWindow('Window', cv.WINDOW_NORMAL)
cap = cv.VideoCapture("videos/DJI_0024.mp4")
ret, frame1 = cap.read()
prvs = cv.cvtColor(frame1, cv.COLOR_BGR2GRAY)
ix = []
iy = []
lower = np.array([155,25,0])
upper = np.array([179,255,255])
hsv = np.zeros_like(frame1)
hsv[..., 1] = 255
badmask = np.ones(frame1.shape[:2], dtype="uint8") * 255
cv.setMouseCallback('Window', select_points)
cv.imshow('Window', frame1)
k = cv.waitKey(0) & 0xff
if k == 27:
    distance = math.dist((ix[1], iy[1]), (ix[0], iy[0]))

worlddistance = 21

# centers = []
# while(1):
#     ret, frame2 = cap.read()
#     if not ret:
#         print('No frames grabbed!')
#         break
#     next = cv.cvtColor(frame2, cv.COLOR_BGR2GRAY)
#     flow = cv.calcOpticalFlowFarneback(prvs, next, None, 0.5, 3, 15, 3, 5, 1.2, 0)
#     mag, ang = cv.cartToPolar(flow[..., 0], flow[..., 1])
#     hsv[..., 0] = ang*180/np.pi/2
#     hsv[..., 2] = cv.normalize(mag, None, 0, 255, cv.NORM_MINMAX)
#     bgr = cv.cvtColor(hsv, cv.COLOR_HSV2BGR)
#     bgr1 = cv.cvtColor(bgr, cv.COLOR_BGR2GRAY)
#     x, bgr2 = cv.threshold(bgr1, 25, 255, cv.THRESH_BINARY)
#     contours, hierarchy = cv.findContours(bgr2, cv.RETR_TREE, cv.CHAIN_APPROX_SIMPLE)
#     goodcontours = []
#     for c in contours:
#         if cv.contourArea(c) > 50: 
#             x, y, w, h = cv.boundingRect(c)
#             cut_image = frame2[y:y+h, x:x+w]
#             cut_image1 = cv.cvtColor(cut_image, cv.COLOR_BGR2HSV)
#             result = cut_image.copy()
#             image = cut_image1
#             lower = np.array([155,25,0])
#             upper = np.array([179,255,255])
#             mask = cv.inRange(image, lower, upper)
#             result = cv.bitwise_and(result, result, mask=mask)
#             mean = np.array(cv.mean(result)).astype(np.uint8)
#             if mean.nonzero()[0].size != 0:
#                 cv.rectangle(frame2, (x,y), (x+w, y+h), (0,255,0), 2)
#                 centers.append((x,y))
#                 goodcontours.append(c)
#     print(centers)
#     cv.drawContours(frame2, goodcontours, -1, (0,255,0), 3)
#     cv.imshow('Window', frame2)
#     # dense_flow = cv.addWeighted(frame2, 1, bgr, 2, 0)
#     # cv.imshow('Window', dense_flow)
#     k = cv.waitKey(1) & 0xff
#     if k == 27:
#         break
#     elif k == ord('s'):
#         cv.imwrite('opticalfb.png', frame2)
#         cv.imwrite('opticalhsv.png', bgr)
#     prvs = next

centers = [(1347, 755), (1348, 757), (1348, 763), (1353, 757), (1342, 759), (1351, 757), (1342, 759), (1350, 756), (1338, 760), (1345, 757), (1341, 760), (1337, 760), (1337, 760), (1344, 754), (1338, 759), (1360, 748), (1339, 744), (1342, 747), (1344, 747), (1347, 747), (1351, 749), (1355, 751), (1359, 755), (1362, 757), (1363, 759), (1366, 761), (1364, 764), (1444, 837), (1358, 766), (1343, 769), (1384, 813), (1332, 773), (1347, 788), (1326, 802), (1364, 854), (1348, 841), (1357, 914), (1341, 823), (1353, 851), (1348, 994), (1397, 838), (1363, 1051), (1358, 1099), (1402, 1194), (1393, 1196), (1409, 1280), (1441, 1335), (1416, 1293), (1451, 1389), (1421, 1319), (1486, 1450), (1512, 1496), (1505, 1487), (1538, 1580), (1570, 1574), (1522, 1534), (1543, 1570), (1568, 1590), (1595, 1627), (1439, 829), (1620, 1654), (1668, 1703), (1685, 1713), (1731, 1766), (1437, 833), (1732, 1760), (1803, 1797), (1801, 1795), (1453, 852), (1824, 1810), (1852, 1827), (1909, 1845), (2001, 1082), (1923, 1845), (2001, 1088), (1946, 1851), (2001, 1082), (2001, 1862), (3170, 1769), (2001, 1080), (2002, 1083), (1392, 820), (2041, 1868), (2004, 1081), (1430, 841), (2069, 1860), (1429, 838), (2092, 1858), (1432, 844), (2163, 1854), (1433, 840), (2173, 1840), (1395, 815), (2207, 1850), (2230, 1842), (2242, 1820), (1394, 815), (2264, 1821), (1402, 814), (2256, 1795), (2282, 1795), (2335, 1777), (2338, 1760), (2343, 1745), (2371, 1731), (2392, 1710), (2404, 1693), (2417, 1660), (2458, 1663), (2506, 1641), (2469, 1639), (1411, 822), (2499, 1607), (2488, 1583), (2500, 1556), (2538, 1540), (2537, 1510), (2549, 1485), (2543, 1454), (2544, 1437), (2550, 1407), (2577, 1372), (2575, 1357), (2571, 1324), (2594, 1301), (2601, 1267), (2597, 1241), (2590, 1217), (2594, 1196), (2590, 1158), (2572, 1101), (2565, 1080), (2563, 1068), (2566, 1051), (2550, 1023), (2532, 989), (2519, 971), (2507, 945), (2484, 912), (2480, 888), (2455, 870), (2432, 845), (2429, 822), (2391, 786), (2367, 769), (2328, 728), (2309, 711), (2280, 690), (2273, 685), (2228, 662), (2200, 642), (2182, 620), (2147, 598), (2121, 596), (2093, 583), (2071, 562), (2049, 543), (2022, 527), (2003, 513), (1980, 501), (1962, 492), (1951, 486), (1933, 464), (1928, 455), (1917, 447), (1908, 441), (1903, 429), (1899, 428), (1884, 411), (1878, 416), (1870, 411), (1857, 392), (1857, 394), (1425, 824), (1854, 392), (1424, 821), (1445, 792), (1840, 387), (1417, 803), (1841, 381), (1410, 784), (1837, 378), (1410, 777), (1834, 373), (1409, 774), (1831, 371), (1408, 775), (1828, 368), (1408, 784), (1846, 371), (1827, 367), (2010, 1076), (1408, 780), (1409, 776), (1409, 771), (1410, 767), (2010, 1055), (1411, 762), (1412, 758), (1415, 755), (1442, 810), (1424, 740), (1454, 799), (1426, 735), (1431, 734), (1433, 729), (1435, 726), (1436, 721), (1436, 718), (1436, 712), (1441, 708), (1442, 704), (1443, 700), (1444, 695)]
[(1347, 755), (1348, 757), (1348, 763), (1353, 757), (1342, 759), (1351, 757), (1342, 759), (1350, 756), (1338, 760), (1345, 757), (1341, 760), (1337, 760), (1337, 760), (1344, 754), (1338, 759), (1360, 748), (1339, 744), (1342, 747), (1344, 747), (1347, 747), (1351, 749), (1355, 751), (1359, 755), (1362, 757), (1363, 759), (1366, 761), (1364, 764), (1444, 837), (1358, 766), (1343, 769), (1384, 813), (1332, 773), (1347, 788), (1326, 802), (1364, 854), (1348, 841), (1357, 914), (1341, 823), (1353, 851), (1348, 994), (1397, 838), (1363, 1051), (1358, 1099), (1402, 1194), (1393, 1196), (1409, 1280), (1441, 1335), (1416, 1293), (1451, 1389), (1421, 1319), (1486, 1450), (1512, 1496), (1505, 1487), (1538, 1580), (1570, 1574), (1522, 1534), (1543, 1570), (1568, 1590), (1595, 1627), (1439, 829), (1620, 1654), (1668, 1703), (1685, 1713), (1731, 1766), (1437, 833), (1732, 1760), (1803, 1797), (1801, 1795), (1453, 852), (1824, 1810), (1852, 1827), (1909, 1845), (2001, 1082), (1923, 1845), (2001, 1088), (1946, 1851), (2001, 1082), (2001, 1862), (3170, 1769), (2001, 1080), (2002, 1083), (1392, 820), (2041, 1868), (2004, 1081), (1430, 841), (2069, 1860), (1429, 838), (2092, 1858), (1432, 844), (2163, 1854), (1433, 840), (2173, 1840), (1395, 815), (2207, 1850), (2230, 1842), (2242, 1820), (1394, 815), (2264, 1821), (1402, 814), (2256, 1795), (2282, 1795), (2335, 1777), (2338, 1760), (2343, 1745), (2371, 1731), (2392, 1710), (2404, 1693), (2417, 1660), (2458, 1663), (2506, 1641), (2469, 1639), (1411, 822), (2499, 1607), (2488, 1583), (2500, 1556), (2538, 1540), (2537, 1510), (2549, 1485), (2543, 1454), (2544, 1437), (2550, 1407), (2577, 1372), (2575, 1357), (2571, 1324), (2594, 1301), (2601, 1267), (2597, 1241), (2590, 1217), (2594, 1196), (2590, 1158), (2572, 1101), (2565, 1080), (2563, 1068), (2566, 1051), (2550, 1023), (2532, 989), (2519, 971), (2507, 945), (2484, 912), (2480, 888), (2455, 870), (2432, 845), (2429, 822), (2391, 786), (2367, 769), (2328, 728), (2309, 711), (2280, 690), (2273, 685), (2228, 662), (2200, 642), (2182, 620), (2147, 598), (2121, 596), (2093, 583), (2071, 562), (2049, 543), (2022, 527), (2003, 513), (1980, 501), (1962, 492), (1951, 486), (1933, 464), (1928, 455), (1917, 447), (1908, 441), (1903, 429), (1899, 428), (1884, 411), (1878, 416), (1870, 411), (1857, 392), (1857, 394), (1425, 824), (1854, 392), (1424, 821), (1445, 792), (1840, 387), (1417, 803), (1841, 381), (1410, 784), (1837, 378), (1410, 777), (1834, 373), (1409, 774), (1831, 371), (1408, 775), (1828, 368), (1408, 784), (1846, 371), (1827, 367), (2010, 1076), (1408, 780), (1409, 776), (1409, 771), (1410, 767), (2010, 1055), (1411, 762), (1412, 758), (1415, 755), (1442, 810), (1424, 740), (1454, 799), (1426, 735), (1431, 734), (1433, 729), (1435, 726), (1436, 721), (1436, 718), (1436, 712), (1441, 708), (1442, 704), (1443, 700), (1444, 695)]
[(1347, 755), (1348, 757), (1348, 763), (1353, 757), (1342, 759), (1351, 757), (1342, 759), (1350, 756), (1338, 760), (1345, 757), (1341, 760), (1337, 760), (1337, 760), (1344, 754), (1338, 759), (1360, 748), (1339, 744), (1342, 747), (1344, 747), (1347, 747), (1351, 749), (1355, 751), (1359, 755), (1362, 757), (1363, 759), (1366, 761), (1364, 764), (1444, 837), (1358, 766), (1343, 769), (1384, 813), (1332, 773), (1347, 788), (1326, 802), (1364, 854), (1348, 841), (1357, 914), (1341, 823), (1353, 851), (1348, 994), (1397, 838), (1363, 1051), (1358, 1099), (1402, 1194), (1393, 1196), (1409, 1280), (1441, 1335), (1416, 1293), (1451, 1389), (1421, 1319), (1486, 1450), (1512, 1496), (1505, 1487), (1538, 1580), (1570, 1574), (1522, 1534), (1543, 1570), (1568, 1590), (1595, 1627), (1439, 829), (1620, 1654), (1668, 1703), (1685, 1713), (1731, 1766), (1437, 833), (1732, 1760), (1803, 1797), (1801, 1795), (1453, 852), (1824, 1810), (1852, 1827), (1909, 1845), (2001, 1082), (1923, 1845), (2001, 1088), (1946, 1851), (2001, 1082), (2001, 1862), (3170, 1769), (2001, 1080), (2002, 1083), (1392, 820), (2041, 1868), (2004, 1081), (1430, 841), (2069, 1860), (1429, 838), (2092, 1858), (1432, 844), (2163, 1854), (1433, 840), (2173, 1840), (1395, 815), (2207, 1850), (2230, 1842), (2242, 1820), (1394, 815), (2264, 1821), (1402, 814), (2256, 1795), (2282, 1795), (2335, 1777), (2338, 1760), (2343, 1745), (2371, 1731), (2392, 1710), (2404, 1693), (2417, 1660), (2458, 1663), (2506, 1641), (2469, 1639), (1411, 822), (2499, 1607), (2488, 1583), (2500, 1556), (2538, 1540), (2537, 1510), (2549, 1485), (2543, 1454), (2544, 1437), (2550, 1407), (2577, 1372), (2575, 1357), (2571, 1324), (2594, 1301), (2601, 1267), (2597, 1241), (2590, 1217), (2594, 1196), (2590, 1158), (2572, 1101), (2565, 1080), (2563, 1068), (2566, 1051), (2550, 1023), (2532, 989), (2519, 971), (2507, 945), (2484, 912), (2480, 888), (2455, 870), (2432, 845), (2429, 822), (2391, 786), (2367, 769), (2328, 728), (2309, 711), (2280, 690), (2273, 685), (2228, 662), (2200, 642), (2182, 620), (2147, 598), (2121, 596), (2093, 583), (2071, 562), (2049, 543), (2022, 527), (2003, 513), (1980, 501), (1962, 492), (1951, 486), (1933, 464), (1928, 455), (1917, 447), (1908, 441), (1903, 429), (1899, 428), (1884, 411), (1878, 416), (1870, 411), (1857, 392), (1857, 394), (1425, 824), (1854, 392), (1424, 821), (1445, 792), (1840, 387), (1417, 803), (1841, 381), (1410, 784), (1837, 378), (1410, 777), (1834, 373), (1409, 774), (1831, 371), (1408, 775), (1828, 368), (1408, 784), (1846, 371), (1827, 367), (2010, 1076), (1408, 780), (1409, 776), (1409, 771), (1410, 767), (2010, 1055), (1411, 762), (1412, 758), (1415, 755), (1442, 810), (1424, 740), (1454, 799), (1426, 735), (1431, 734), (1433, 729), (1435, 726), (1436, 721), (1436, 718), (1436, 712), (1441, 708), (1442, 704), (1443, 700), (1444, 695)]
[(1347, 755), (1348, 757), (1348, 763), (1353, 757), (1342, 759), (1351, 757), (1342, 759), (1350, 756), (1338, 760), (1345, 757), (1341, 760), (1337, 760), (1337, 760), (1344, 754), (1338, 759), (1360, 748), (1339, 744), (1342, 747), (1344, 747), (1347, 747), (1351, 749), (1355, 751), (1359, 755), (1362, 757), (1363, 759), (1366, 761), (1364, 764), (1444, 837), (1358, 766), (1343, 769), (1384, 813), (1332, 773), (1347, 788), (1326, 802), (1364, 854), (1348, 841), (1357, 914), (1341, 823), (1353, 851), (1348, 994), (1397, 838), (1363, 1051), (1358, 1099), (1402, 1194), (1393, 1196), (1409, 1280), (1441, 1335), (1416, 1293), (1451, 1389), (1421, 1319), (1486, 1450), (1512, 1496), (1505, 1487), (1538, 1580), (1570, 1574), (1522, 1534), (1543, 1570), (1568, 1590), (1595, 1627), (1439, 829), (1620, 1654), (1668, 1703), (1685, 1713), (1731, 1766), (1437, 833), (1732, 1760), (1803, 1797), (1801, 1795), (1453, 852), (1824, 1810), (1852, 1827), (1909, 1845), (2001, 1082), (1923, 1845), (2001, 1088), (1946, 1851), (2001, 1082), (2001, 1862), (3170, 1769), (2001, 1080), (2002, 1083), (1392, 820), (2041, 1868), (2004, 1081), (1430, 841), (2069, 1860), (1429, 838), (2092, 1858), (1432, 844), (2163, 1854), (1433, 840), (2173, 1840), (1395, 815), (2207, 1850), (2230, 1842), (2242, 1820), (1394, 815), (2264, 1821), (1402, 814), (2256, 1795), (2282, 1795), (2335, 1777), (2338, 1760), (2343, 1745), (2371, 1731), (2392, 1710), (2404, 1693), (2417, 1660), (2458, 1663), (2506, 1641), (2469, 1639), (1411, 822), (2499, 1607), (2488, 1583), (2500, 1556), (2538, 1540), (2537, 1510), (2549, 1485), (2543, 1454), (2544, 1437), (2550, 1407), (2577, 1372), (2575, 1357), (2571, 1324), (2594, 1301), (2601, 1267), (2597, 1241), (2590, 1217), (2594, 1196), (2590, 1158), (2572, 1101), (2565, 1080), (2563, 1068), (2566, 1051), (2550, 1023), (2532, 989), (2519, 971), (2507, 945), (2484, 912), (2480, 888), (2455, 870), (2432, 845), (2429, 822), (2391, 786), (2367, 769), (2328, 728), (2309, 711), (2280, 690), (2273, 685), (2228, 662), (2200, 642), (2182, 620), (2147, 598), (2121, 596), (2093, 583), (2071, 562), (2049, 543), (2022, 527), (2003, 513), (1980, 501), (1962, 492), (1951, 486), (1933, 464), (1928, 455), (1917, 447), (1908, 441), (1903, 429), (1899, 428), (1884, 411), (1878, 416), (1870, 411), (1857, 392), (1857, 394), (1425, 824), (1854, 392), (1424, 821), (1445, 792), (1840, 387), (1417, 803), (1841, 381), (1410, 784), (1837, 378), (1410, 777), (1834, 373), (1409, 774), (1831, 371), (1408, 775), (1828, 368), (1408, 784), (1846, 371), (1827, 367), (2010, 1076), (1408, 780), (1409, 776), (1409, 771), (1410, 767), (2010, 1055), (1411, 762), (1412, 758), (1415, 755), (1442, 810), (1424, 740), (1454, 799), (1426, 735), (1431, 734), (1433, 729), (1435, 726), (1436, 721), (1436, 718), (1436, 712), (1441, 708), (1442, 704), (1443, 700), (1444, 695)]
[(1347, 755), (1348, 757), (1348, 763), (1353, 757), (1342, 759), (1351, 757), (1342, 759), (1350, 756), (1338, 760), (1345, 757), (1341, 760), (1337, 760), (1337, 760), (1344, 754), (1338, 759), (1360, 748), (1339, 744), (1342, 747), (1344, 747), (1347, 747), (1351, 749), (1355, 751), (1359, 755), (1362, 757), (1363, 759), (1366, 761), (1364, 764), (1444, 837), (1358, 766), (1343, 769), (1384, 813), (1332, 773), (1347, 788), (1326, 802), (1364, 854), (1348, 841), (1357, 914), (1341, 823), (1353, 851), (1348, 994), (1397, 838), (1363, 1051), (1358, 1099), (1402, 1194), (1393, 1196), (1409, 1280), (1441, 1335), (1416, 1293), (1451, 1389), (1421, 1319), (1486, 1450), (1512, 1496), (1505, 1487), (1538, 1580), (1570, 1574), (1522, 1534), (1543, 1570), (1568, 1590), (1595, 1627), (1439, 829), (1620, 1654), (1668, 1703), (1685, 1713), (1731, 1766), (1437, 833), (1732, 1760), (1803, 1797), (1801, 1795), (1453, 852), (1824, 1810), (1852, 1827), (1909, 1845), (2001, 1082), (1923, 1845), (2001, 1088), (1946, 1851), (2001, 1082), (2001, 1862), (3170, 1769), (2001, 1080), (2002, 1083), (1392, 820), (2041, 1868), (2004, 1081), (1430, 841), (2069, 1860), (1429, 838), (2092, 1858), (1432, 844), (2163, 1854), (1433, 840), (2173, 1840), (1395, 815), (2207, 1850), (2230, 1842), (2242, 1820), (1394, 815), (2264, 1821), (1402, 814), (2256, 1795), (2282, 1795), (2335, 1777), (2338, 1760), (2343, 1745), (2371, 1731), (2392, 1710), (2404, 1693), (2417, 1660), (2458, 1663), (2506, 1641), (2469, 1639), (1411, 822), (2499, 1607), (2488, 1583), (2500, 1556), (2538, 1540), (2537, 1510), (2549, 1485), (2543, 1454), (2544, 1437), (2550, 1407), (2577, 1372), (2575, 1357), (2571, 1324), (2594, 1301), (2601, 1267), (2597, 1241), (2590, 1217), (2594, 1196), (2590, 1158), (2572, 1101), (2565, 1080), (2563, 1068), (2566, 1051), (2550, 1023), (2532, 989), (2519, 971), (2507, 945), (2484, 912), (2480, 888), (2455, 870), (2432, 845), (2429, 822), (2391, 786), (2367, 769), (2328, 728), (2309, 711), (2280, 690), (2273, 685), (2228, 662), (2200, 642), (2182, 620), (2147, 598), (2121, 596), (2093, 583), (2071, 562), (2049, 543), (2022, 527), (2003, 513), (1980, 501), (1962, 492), (1951, 486), (1933, 464), (1928, 455), (1917, 447), (1908, 441), (1903, 429), (1899, 428), (1884, 411), (1878, 416), (1870, 411), (1857, 392), (1857, 394), (1425, 824), (1854, 392), (1424, 821), (1445, 792), (1840, 387), (1417, 803), (1841, 381), (1410, 784), (1837, 378), (1410, 777), (1834, 373), (1409, 774), (1831, 371), (1408, 775), (1828, 368), (1408, 784), (1846, 371), (1827, 367), (2010, 1076), (1408, 780), (1409, 776), (1409, 771), (1410, 767), (2010, 1055), (1411, 762), (1412, 758), (1415, 755), (1442, 810), (1424, 740), (1454, 799), (1426, 735), (1431, 734), (1433, 729), (1435, 726), (1436, 721), (1436, 718), (1436, 712), (1441, 708), (1442, 704), (1443, 700), (1444, 695)]
[(1347, 755), (1348, 757), (1348, 763), (1353, 757), (1342, 759), (1351, 757), (1342, 759), (1350, 756), (1338, 760), (1345, 757), (1341, 760), (1337, 760), (1337, 760), (1344, 754), (1338, 759), (1360, 748), (1339, 744), (1342, 747), (1344, 747), (1347, 747), (1351, 749), (1355, 751), (1359, 755), (1362, 757), (1363, 759), (1366, 761), (1364, 764), (1444, 837), (1358, 766), (1343, 769), (1384, 813), (1332, 773), (1347, 788), (1326, 802), (1364, 854), (1348, 841), (1357, 914), (1341, 823), (1353, 851), (1348, 994), (1397, 838), (1363, 1051), (1358, 1099), (1402, 1194), (1393, 1196), (1409, 1280), (1441, 1335), (1416, 1293), (1451, 1389), (1421, 1319), (1486, 1450), (1512, 1496), (1505, 1487), (1538, 1580), (1570, 1574), (1522, 1534), (1543, 1570), (1568, 1590), (1595, 1627), (1439, 829), (1620, 1654), (1668, 1703), (1685, 1713), (1731, 1766), (1437, 833), (1732, 1760), (1803, 1797), (1801, 1795), (1453, 852), (1824, 1810), (1852, 1827), (1909, 1845), (2001, 1082), (1923, 1845), (2001, 1088), (1946, 1851), (2001, 1082), (2001, 1862), (3170, 1769), (2001, 1080), (2002, 1083), (1392, 820), (2041, 1868), (2004, 1081), (1430, 841), (2069, 1860), (1429, 838), (2092, 1858), (1432, 844), (2163, 1854), (1433, 840), (2173, 1840), (1395, 815), (2207, 1850), (2230, 1842), (2242, 1820), (1394, 815), (2264, 1821), (1402, 814), (2256, 1795), (2282, 1795), (2335, 1777), (2338, 1760), (2343, 1745), (2371, 1731), (2392, 1710), (2404, 1693), (2417, 1660), (2458, 1663), (2506, 1641), (2469, 1639), (1411, 822), (2499, 1607), (2488, 1583), (2500, 1556), (2538, 1540), (2537, 1510), (2549, 1485), (2543, 1454), (2544, 1437), (2550, 1407), (2577, 1372), (2575, 1357), (2571, 1324), (2594, 1301), (2601, 1267), (2597, 1241), (2590, 1217), (2594, 1196), (2590, 1158), (2572, 1101), (2565, 1080), (2563, 1068), (2566, 1051), (2550, 1023), (2532, 989), (2519, 971), (2507, 945), (2484, 912), (2480, 888), (2455, 870), (2432, 845), (2429, 822), (2391, 786), (2367, 769), (2328, 728), (2309, 711), (2280, 690), (2273, 685), (2228, 662), (2200, 642), (2182, 620), (2147, 598), (2121, 596), (2093, 583), (2071, 562), (2049, 543), (2022, 527), (2003, 513), (1980, 501), (1962, 492), (1951, 486), (1933, 464), (1928, 455), (1917, 447), (1908, 441), (1903, 429), (1899, 428), (1884, 411), (1878, 416), (1870, 411), (1857, 392), (1857, 394), (1425, 824), (1854, 392), (1424, 821), (1445, 792), (1840, 387), (1417, 803), (1841, 381), (1410, 784), (1837, 378), (1410, 777), (1834, 373), (1409, 774), (1831, 371), (1408, 775), (1828, 368), (1408, 784), (1846, 371), (1827, 367), (2010, 1076), (1408, 780), (1409, 776), (1409, 771), (1410, 767), (2010, 1055), (1411, 762), (1412, 758), (1415, 755), (1442, 810), (1424, 740), (1454, 799), (1426, 735), (1431, 734), (1433, 729), (1435, 726), (1436, 721), (1436, 718), (1436, 712), (1441, 708), (1442, 704), (1443, 700), (1444, 695)]
normalizedcenters = []
origin = centers[0]
for c in centers:
    a = list(map(int.__sub__, list(origin), list(c)))
    b = np.array(a) * worlddistance / distance
    normalizedcenters.append(tuple(b))
scatter = plt.scatter(*zip(*normalizedcenters))
plt.xlabel('Feet', fontsize=20)
plt.ylabel('Feet', fontsize=20)
scatter.axes.invert_xaxis()
plt.show()
cv.destroyAllWindows()